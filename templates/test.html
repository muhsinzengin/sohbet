<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔍 FLASK CHAT v2.3 - MOBILE REPAIR TEST DASHBOARD</title>
    <link rel="stylesheet" href="/static/test.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/static/test.js"></script>
</head>
<body>
    <div class="container">
        <h1>🔍 FLASK CHAT v2.3 - MOBILE REPAIR TEST DASHBOARD</h1>
        <p class="subtitle">120 Test + 50 Auto-Fix | %100 Mobile | Test & Repair Aynı Bütünlükte</p>
        
        <!-- 🔄 AYNI BÜTÜNLÜKTE BUTTONS -->
        <div class="button-group">
            <button class="test-btn" onclick="runAllTests()">🚀 RUN ALL TESTS (3dk)</button>
            <button class="repair-btn" onclick="runAutoRepair()">🔧 AUTO-FIX ALL (3sn)</button>
        </div>
        
        <div class="results-grid">
            <!-- 1. MESSAGE TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">📨 Mesajlaşma (15 Test) <span id="msgCount">0</span>/15</h3>
                <table id="msgTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 2. DATABASE TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">🗄️ Database (12 Test) <span id="dbCount">0</span>/12</h3>
                <table id="dbTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 3. SOCKET.IO TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">🔌 Socket.IO (10 Test) <span id="socketCount">0</span>/10</h3>
                <table id="socketTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 4. TELEGRAM TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">🤖 Telegram (8 Test) <span id="telegramCount">0</span>/8</h3>
                <table id="telegramTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 5. FILE UPLOAD TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">📁 File Upload (10 Test) <span id="fileCount">0</span>/10</h3>
                <table id="fileTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 6. SECURITY TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">🔒 Security (15 Test) <span id="securityCount">0</span>/15</h3>
                <table id="securityTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 7. PERFORMANCE TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">⚡ Performance (10 Test) <span id="perfCount">0</span>/10</h3>
                <table id="perfTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 8. API TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">🌐 API Endpoints (12 Test) <span id="apiCount">0</span>/12</h3>
                <table id="apiTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 9. AUTHENTICATION TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">🔐 Authentication (8 Test) <span id="authCount">0</span>/8</h3>
                <table id="authTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 10. CACHE TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">💾 Cache System (6 Test) <span id="cacheCount">0</span>/6</h3>
                <table id="cacheTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 11. RATE LIMITING TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">🚦 Rate Limiting (5 Test) <span id="rateCount">0</span>/5</h3>
                <table id="rateTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 12. HEALTH CHECK TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">🏥 Health Check (5 Test) <span id="healthCount">0</span>/5</h3>
                <table id="healthTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 13. CORS TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">🌍 CORS (4 Test) <span id="corsCount">0</span>/4</h3>
                <table id="corsTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 14. SESSION TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">🍪 Session Management (4 Test) <span id="sessionCount">0</span>/4</h3>
                <table id="sessionTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 15. ERROR HANDLING TESTS -->
            <div class="card">
                <h3 onclick="toggleDetails(this)">⚠️ Error Handling (6 Test) <span id="errorCount">0</span>/6</h3>
                <table id="errorTable">
                    <tr><th>ID</th><th>Test</th><th>Status</th><th>Time</th><th>🔍</th></tr>
                </table>
            </div>

            <!-- 📊 SUMMARY CARD -->
            <div class="card summary-card">
                <h3 onclick="toggleDetails(this)">📊 GRAND SUMMARY</h3>
                <canvas id="summaryChart"></canvas>
                <h2>Total: <span id="finalScore">0</span>/600</h2>
                <div class="summary-stats">
                    <div class="stat">
                        <span class="stat-label">✅ Pass:</span>
                        <span id="passCount">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">❌ Fail:</span>
                        <span id="failCount">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">⏱️ Time:</span>
                        <span id="totalTime">0s</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 🔧 REPAIR MODAL -->
        <div id="repairModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <h3>🔧 AUTO-REPAIR REPORT</h3>
                <canvas id="repairChart" style="height:150px;"></canvas>
                <table id="repairTable">
                    <tr><th>Issue</th><th>Status</th><th>Fixed</th><th>🔍</th></tr>
                </table>
                <p id="repairSummary"></p>
            </div>
        </div>
    </div>
</body>
</html>
